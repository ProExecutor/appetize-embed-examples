<!DOCTYPE html>
<html>
<head>
  <meta name="google" value="notranslate">
  <script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>
</head>

<body>
  <h1>AppetizeIO.js example page</h1>
  <h3>Sample code</h3>
  <p>Note: Please email hello@appetize.io to configure which targetOrigins are permitted to access this library.</p>
  <pre>
&lt;script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"&gt;&lt;/script&gt;
&lt;script&gt;
  (function (w, t, c, p, s, e) {
    p = new Promise(function (r) {
      w[c] = { client: function () { return p } };
      s = document.createElement(t); s.async = 1; s.src = 'AppetizeIO.js';
      e = document.getElementsByTagName(t)[0]; e.parentNode.insertBefore(s, e);
      s.onload = function () { r(w[c]); };
    }); return p;
  })(window, 'script', 'AppetizeIO').then(function () {
    AppetizeIO.load().then(async function () {
      console.log('AppetizeIO.js library is loaded');

      // get data
      var user = await AppetizeIO.getUser();
      var loginUrl = await AppetizeIO.getLoginUrl();
      var devices = await AppetizeIO.getDevices();
      var apps = await AppetizeIO.getApps();

      // display on page
      document.getElementById('user').innerHTML = JSON.stringify(user, 0, 2);
      document.getElementById('loginUrl').innerHTML = JSON.stringify(loginUrl, 0, 2);
      document.getElementById('devices').innerHTML = JSON.stringify(devices, 0, 2);
      document.getElementById('apps').innerHTML = JSON.stringify(apps, 0, 2);
    });
  });
  &lt;/script&gt;
  </pre>
  <h3>AppetizeIO.getLoginUrl();</h3>
  <pre id='loginUrl'>
    Loading...
  </pre>
  <h3>AppetizeIO.getUser();</h3>
  <pre id='user'>
    Loading...
  </pre>
  <h3>AppetizeIO.getApps();</h3>
  <pre id='apps'>
    Loading...
  </pre>
  <h3>AppetizeIO.getDevices();</h3>
  <pre id='devices'>
    Loading...
  </pre>
  <script>
    (function (w, t, c, p, s, e) {
      p = new Promise(function (r) {
        w[c] = { client: function () { return p } };
        s = document.createElement(t); s.async = 1; s.src = 'https://js.appetize.io/AppetizeIO.js';
        e = document.getElementsByTagName(t)[0]; e.parentNode.insertBefore(s, e);
        s.onload = function () { r(w[c]); };
      }); return p;
    })(window, 'script', 'AppetizeIO').then(function () {
      AppetizeIO.load().then(async function () {
        console.log('AppetizeIO.js library is loaded');

        // get data
        var loginUrl = await AppetizeIO.getLoginUrl();
        document.getElementById('loginUrl').innerHTML = JSON.stringify(loginUrl, 0, 2);

        var user = await AppetizeIO.getUser();
        document.getElementById('user').innerHTML = JSON.stringify(user, 0, 2);

        var apps = await AppetizeIO.getApps();
        document.getElementById('apps').innerHTML = JSON.stringify(apps, 0, 2);

        var devices = await AppetizeIO.getDevices();
        document.getElementById('devices').innerHTML = JSON.stringify(devices, 0, 2);
      });
    });
  </script>
</body>

</html>